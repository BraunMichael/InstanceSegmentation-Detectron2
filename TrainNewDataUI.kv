<SetupUI@BoxLayout>:
    orientation: "vertical"
    size_hint_y: None
    height: self.minimum_height

    MDBoxLayout:
        orientation: "vertical"
        # size_hint_y: None
        adaptive_height: True
        # adaptive_width: True
        # height: self.minimum_height
        padding: dp(48)
        spacing: 15

        MDBoxLayout:
            orientation: "horizontal"
            adaptive_height: True
            padding: 0
            spacing: 10

            MDTextField:
                id: trainAnnotationDictPath
                multiline: True
                color: 0, 0, 0, 1    # black text color
                focus: False
                hint_text: "Train Annotation Dictionary"
                size_hint_x: 0.75


            MDRoundFlatIconButton:
                id: fileManager_Train
                text: "Choose File"
                icon: "folder"
                size_hint_x: 0.25
                pos_hint: {'center_x': .5, 'center_y': .5}
                on_release: app.file_manager_open('trainAnnotationDictPath', 'file', 'Annotation Train Dict List in text file')

        MDBoxLayout:
            orientation: "horizontal"
            adaptive_height: True
            padding: 0
            spacing: 10

            MDTextField:
                id: validateAnnotationDictPath
                multiline: True
                color: 0, 0, 0, 1    # black text color
                focus: False
                hint_text: "Validation Annotation Dictionary"
                size_hint_x: 0.75


            MDRoundFlatIconButton:
                id: fileManager_Validate
                text: "Choose File"
                icon: "folder"
                size_hint_x: 0.25
                pos_hint: {'center_x': .5, 'center_y': .5}
                on_release: app.file_manager_open('validateAnnotationDictPath', 'file', 'Annotation Validation Dict List in text file')

        MDBoxLayout:
            orientation: "horizontal"
            adaptive_height: True
            padding: 0
            spacing: 10

            MDTextField:
                id: rawImagesPath
                multiline: True
                color: 0, 0, 0, 1    # black text color
                focus: False
                hint_text: "Raw Images Directory"
                size_hint_x: 0.75


            MDRoundFlatIconButton:
                id: fileManager_Images
                text: "Choose File"
                icon: "folder"
                size_hint_x: 0.25
                pos_hint: {'center_x': .5, 'center_y': .5}
                on_release: app.file_manager_open('rawImagesPath', 'folder', "Select folder with Training and Validation folders")

        MDBoxLayout:
            orientation: "horizontal"
            adaptive_height: True
            padding: 0
            spacing: 10
            
            MDLabel:
                text: 'Choose deep learning model'
            MDDropDownItem:
                id: modelTypeButton
                pos_hint: {'center_x': 0.5, 'center_y': .5}
                text: "Model"
                on_release: app.modelTypeMenu.open()

        MDTextField:
            id: folderSuffixField
            color: 0, 0, 0, 1    # black text color
            focus: False
            hint_text: "Enter desired model output folder name suffix"
            helper_text: "Folder prefix currently is: "
            helper_text_mode: "on_focus"
            on_text: app.setLastIteration(app.setOutputModelFolderConverter(root.ids['modelTypeButton'].current_item, root.ids['folderSuffixField'].text))

        MDBoxLayout:
            orientation: "horizontal"
            adaptive_height: True
            padding: 0
            spacing: 0

            MDLabel:
                id: iterationsCompleteLabel
                text: ''
                size_hint_x: 0.8
            CenteredMDTextField:
                id: iterationsComplete
                size_hint_x: 0.2
                color: 0, 0, 0, 1    # black text color
                focus: False
                on_text: self.update_padding()
                # This appears to work for padding, seems not super robust though
                padding: ((self.width - self.text_width) / 2, self.height / 4)
                disabled: True

        MDBoxLayout:
            orientation: "horizontal"
            adaptive_height: True
            padding: 0
            spacing: 10

            MDLabel:
                text: 'Total number of iterations'
                size_hint_x: 0.6

            CenteredMDTextField:
                id: totalIterations
                size_hint_x: 0.2
                color: 0, 0, 0, 1    # black text color
                focus: False
                on_text: self.update_padding()
                # This appears to work for padding, seems not super robust though
                padding: ((self.width - self.text_width) / 2, self.height / 4)

        MDBoxLayout:
            orientation: "horizontal"
            adaptive_height: True
            padding: 0
            spacing: 10

            MDLabel:
                text: 'Model iteration checkpoint period (Number of iterations)'
                size_hint_x: 0.8
            CenteredMDTextField:
                id: iterationCheckpointPeriod
                size_hint_x: 0.2
                color: 0, 0, 0, 1    # black text color
                focus: False
                on_text: self.update_padding()
                # This appears to work for padding, seems not super robust though
                padding: ((self.width - self.text_width) / 2, self.height / 4)

        MDBoxLayout:
            orientation: "horizontal"
            adaptive_height: True
            padding: 0
            spacing: 10

            MDLabel:
                text: 'Number of classes in images and annotations (normally 1)'
                size_hint_x: 0.8

            CenteredMDTextField:
                id: numClassesField
                size_hint_x: 0.2
                color: 0, 0, 0, 1    # black text color
                focus: False
                on_text: self.update_padding()
                # This appears to work for padding, seems not super robust though
                padding: ((self.width - self.text_width) / 2, self.height / 4)


        MDBoxLayout:
            orientation: "horizontal"
            adaptive_height: True
            padding: 0
            spacing: 10
            
            MDLabel:
                text: 'Show plots with annotated images before training?'
            MDDropDownItem:
                id: showPlotsButton
                pos_hint: {'center_x': 0.5, 'center_y': .5}
                text: "False"
                on_release: app.showPlotsMenu.open()
